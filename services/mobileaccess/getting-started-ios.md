---

copyright:
  years: 2015, 2016
lastupdated: "2016-10-02"

---
{:shortdesc: .shortdesc}

# Setting up the iOS Objective-C SDK
{: #getting-started-ios}

Instrument your iOS application with the {{site.data.keyword.amafull}} SDK, initialize the SDK, and make requests to protected and unprotected resources.

{:shortdesc}

**Important:** While the Objective-C SDK remains fully supported, and is still considered the primary SDK for  {{site.data.keyword.Bluemix_notm}} Mobile Services, there are plans to discontinue this SDK later this year in favor of the new Swift SDK. For new applications we highly recommend using the Swift SDK (see [Setting up the iOS Swift SDK](getting-started-ios-swift-sdk.html)).

## Before you begin
{: #before-you-begin}
You must have:
* An instance of a {{site.data.keyword.Bluemix_notm}} application that is protected by the {{site.data.keyword.amashort}} service. For more information about how to create a {{site.data.keyword.Bluemix_notm}} back-end application, see [Getting started](index.html).
* Your **TenantID**. Open your service in the {{site.data.keyword.Bluemix_notm}} dashboard. Click **Mobile Options**. The `tenantId` (also known as `appGUID`)  values are displayed in the  **App GUID / TenantId** field. You will need this value for intializing the {{site.data.keyword.amashort}} Authorization Manager.
* Your **Application Route**. This is the URL of your back-end application. You need this value for for sending requests to its protected endpoints.
* An Xcode project.  


## Installing the {{site.data.keyword.amashort}} client SDK
{: #install-mca-sdk-ios}
The {{site.data.keyword.amashort}} SDK is distributed with CocoaPods, a dependency manager for iOS projects. CocoaPods automatically downloads artifacts from repositories, and makes them available to your iOS application.


### Install CocoaPods
{: #install-cocoapods}

1. Open Terminal and run the **pod --version** command. If you already have CocoaPods installed, the version number displays. Skip to the next section to install the SDK.

1. If you do not have CocoaPods installed, run:

```
sudo gem install cocoapods
```

For more information, see the [CocoaPods website](https://cocoapods.org/).

### Install the {{site.data.keyword.amashort}} client SDK with CocoaPods
{: #install-sdk-cocoapods}

1. In Terminal, navigate to the root directory of your iOS project.

1. If you have not already initialized your workspace for CocoaPods, run the `pod init` command.<br/>
 CocoaPods creates a `Podfile` file for you, which is where you define dependencies for your iOS project.

1. Edit the `Podfile` file, and add the following line to the required targets:


	`pod 'IMFCore'`

1. Save the `Podfile` file, and run `pod install` from the command line. <br/>Cocoapods installs added dependencies and displays the added components.<br/>

	**Important**: CocoaPods generates an `xcworkspace` file.  You must open this file to work on your project going forward.

1. Open your iOS project workspace. Open the `xcworkspace` file that was generated by CocoaPods. For example: `{your-project-name}.xcworkspace`. Run `open {your-project-name}.xcworkspace`.

## Initializing the {{site.data.keyword.amashort}} client SDK
{: #init-mca-sdk-ios}

1. Import the `IMFCore` framework in the class that you want to use the {{site.data.keyword.amashort}} client SDK by adding the following header:

	####Objective-C
	{: #imfcore-objc}

	```Objective-C
	  #import <IMFCore/IMFCore.h>
	```

	####Swift
	{: #sdk-swift}

	The {{site.data.keyword.amashort}} client SDK is implemented with Objective-C. You might need to add a bridging header to your Swift project:
	1. Right-click your project in Xcode, and select **New File**.
	1. In the **iOS Source** category, click **Header file**. Name the file `BridgingHeader.h`.
	1. Add the following line to your bridging header: `#import <IMFCore/IMFCore.h>`.
	1. Click your project in Xcode, and select **Build Settings** tab.
	1. Search for `Objective-C Bridging Header`.
	1. Set the value to the location of your `BridgingHeader.h` file, for example `$(SRCROOT)/MyApp/BridgingHeader.h`.
	1. Make sure your bridging header is being picked up by Xcode by building your project. You should see not see any failure messages.

1. Use the following code to initialize the {{site.data.keyword.amashort}} client SDK.  A common, though not mandatory, place to put the initialization code is in the `application:didFinishLaunchingWithOptions` method of your application delegate. <br/>
For information on obtaining thee `applicationRoute` and `applicationGUID`  see [Before you begin](#before-you-begin). 

	####Objective-C
	{: #sharedinstance-objc}

	```Objective-C
	[[IMFClient sharedInstance]
			initializeWithBackendRoute:@"applicationRoute"
			backendGUID:@"applicationGUID"];
	```

	####Swift
	{: #sharedinstance-swift}
	```Swift
 		MFClient.sharedInstance().initializeWithBackendRoute("applicationRoute",backendGUID: "applicationGUID")
	```

## Initializing the AuthorizationManager
Initialize the `AuthorizationManager` by passing the {{site.data.keyword.amashort}} service `tenantId` parameter. For information on obtaining these values, see [Before you begin](#before-you-begin). 

####Objective-C

```Objective-C
[[IMFAuthorizationManager sharedInstance]  initializeWithTenantId: @"<tenantId>"];
```

####Swift

```Swift
IMFAuthorizationManager.sharedInstance().initializeWithTenantId("<tenantId>")
```

	
## Making a request to your mobile back-end application
{: #request}

After the {{site.data.keyword.amashort}} client SDK is initialized, you can start making requests to your mobile back-end application.

1. Try to send a request to a protected endpoint on your mobile back-end application in your browser. Open the following URL: `{applicationRoute}/protected`. For example: `http://my-mobile-backend.mybluemix.net/protected`
<br/>The `/protected` endpoint of a mobile back-end application that was created with MobileFirst Services Starter boilerplate is protected with {{site.data.keyword.amashort}}. An `Unauthorized` message is returned in your browser because this endpoint can be accessed by mobile applications that are instrumented with {{site.data.keyword.amashort}} client SDK only.

1. Use your iOS application to make a request to the same endpoint. Add the following code after you initialize `IMFClient`:

	####Objective-C
	{: #nsstring-objc}

	```Objective-C
	NSString *requestPath = [NSString stringWithFormat:@"%@/protected",
								[[IMFClient sharedInstance] backendRoute]];

	IMFResourceRequest *request =  [IMFResourceRequest requestWithPath:requestPath
																method:@"GET"];

	[request sendWithCompletionHandler:^(IMFResponse *response, NSError *error) {
		if (error){
			NSLog(@"Error :: %@", [error description]);
		} else {
			NSLog(@"Response :: %@", [response responseText]);
		}
	}];
	```

	####Swift
	{: #imfclientrequestpath-swift}

	```Swift
	let requestPath = IMFClient.sharedInstance().backendRoute + "/protected"

	let request = IMFResourceRequest(path: requestPath, method: "GET");
	request.sendWithCompletionHandler { (response, error) -> Void in
		if (nil != error){
			NSLog("Error :: %@", error.description)
		} else {
			NSLog("Response :: %@", response.responseText)
		}
	};

	```

1.  When your request succeeds, you will see the following output the Xcode console:

	![image](images/getting-started-ios-success.png)

## Next steps
{: #next-steps}
When you connect to the protected endpoint, no credentials were required. To require your users to log in to your application, you must configure Facebook, Google, or custom authentication.
  * [Facebook](facebook-auth-ios.html)
  * [Google](google-auth-ios.html)
  * [Custom](custom-auth-ios.html)
